# ë¹ˆ ìƒëª…ì£¼ê¸° ì½œë°±

ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘ ì§€ì ì— í•„ìš”í•œ ì—°ê²°ì„ í•´ë‘ê³ , ì• í”Œë¦¬ì¼€ì´ì…˜ ì¢…ë£Œ ì‹œì ì— ì—°ê²°ì„ ëª¨ë‘ ì¢…ë£Œí•˜ëŠ” ì‘ì—…(ë°ì´í„°ë² ì´ìŠ¤ ì»¤ë„¥ì…˜ í’€, ë„¤íŠ¸ì›Œí¬ ì†Œì¼“)

ìŠ¤í”„ë§ ë¹ˆ ë¼ì´í”„ì‚¬ì´í´

ê°ì²´ ìƒì„± â†’ ì˜ì¡´ê´€ê³„ ì£¼ì…

- ì˜ì¡´ê´€ê³„ ì£¼ì…ì´ ì™„ë£Œë˜ë©´ ìŠ¤í”„ë§ ë¹ˆì—ê²Œ ì´ˆê¸°í™” ì‹œì ì„ ì•Œë ¤ì£¼ëŠ” ë‹¤ì–‘í•œ ê¸°ëŠ¥ ì œê³µ
- ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆê°€ ì¢…ë£Œë˜ê¸° ì§ì „ ì†Œë©¸ ì½œë°±

**ìŠ¤í”„ë§ ë¹ˆì˜ ì´ë²¤íŠ¸ ë¼ì´í”„ì‚¬ì´í´**

ìŠ¤í”„ë§ ì»¨í…Œì´ë„ˆ ìƒì„± â†’ ìŠ¤í”„ë§ ë¹ˆ ìƒì„± â†’ ì˜ì¡´ê´€ê³„ ì£¼ì… â†’ ì´ˆê¸°í™” ì½œë°± â†’ ì‚¬ìš© â†’ ì†Œë©¸ ì „ ì½œë°± â†’ ìŠ¤í”„ë§ ì¢…ë£Œ

### ì¸í„°í˜ì´ìŠ¤


> ğŸ’¡ ê°ì²´ì˜ ìƒì„±ê³¼ ì´ˆê¸°í™”ë¥¼ ë¶„ë¦¬í•˜ì
> ìƒì„±ì: í•„ìˆ˜ ì •ë³´ë¥¼ ë°›ê³ , ë©”ëª¨ë¦¬ë¥¼ í• ë‹¹í•´ì„œ ê°ì²´ë¥¼ ìƒì„±
> ì´ˆê¸°í™”: ìƒì„±ëœ ê°’ë“¤ì„ í™œìš©í•´ì„œ ì™¸ë¶€ ì»¤ë„¥ì…˜ ì—°ê²° (ë¬´ê±°ìš´ ë™ì‘ë“¤)
> - **ë¶„ë¦¬í•˜ëŠ” ê²ƒì´ ìœ ì§€ë³´ìˆ˜ì— ì¢‹ìŒ**

`InitializingBean`

```java
@Override
public void afterPropertiesSet() throws Exception {
    connect();
    call("ì´ˆê¸°í™” ì—°ê²° ë©”ì‹œì§€");
}
```

ìŠ¤í”„ë§ ì˜ì¡´ê´€ê³„ ì„¤ì •ì´ ëë‚œ í›„ì— ì‹¤í–‰

`DisposableBean`

```java
@Override
public void destroy() throws Exception {
    disconnect();
}
```

í•œê³„

- ìŠ¤í”„ë§ ì „ìš© ì¸í„°í˜ì´ìŠ¤
- ì´ˆê¸°í™”, ì†Œë©¸ ë©”ì„œë“œì˜ ì´ë¦„ì„ ë³€ê²½í•  ìˆ˜ ì—†ìŒ
- ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ì ìš©í•  ìˆ˜ ì—†ë‹¤

### ë¹ˆ ë“±ë¡ ì´ˆê¸°í™”, ì†Œë©¸ ë©”ì„œë“œ

```java
@Configuration
static class LifeCycleConfig {
    @Bean(initMethod = "init", destroyMethod = "close")
    public NetworkClient networkClient() {
        NetworkClient networkClient = new NetworkClient();
        networkClient.setUrl("http://hello-spring.dev");
        return networkClient;
    }
}
```

@Bean ì• ë…¸í…Œì´ì…˜ì— initMethod, destroyMethod ì§€ì • ê°€ëŠ¥

- ë©”ì„œë“œ ì´ë¦„ì„ ììœ ë¡­ê²Œ ì§€ì • ê°€ëŠ¥
- ìŠ¤í”„ë§ ë¹ˆì´ ìŠ¤í”„ë§ ì½”ë“œì— ì˜ì¡´X
- ì„¤ì • ì •ë³´ ì‚¬ìš©: ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ë„ ì ìš©í•  ìˆ˜ ìˆìŒ

**ì¢…ë£Œ ë©”ì„œë“œ ì¶”ë¡ **

- destroyMethod ê¸°ë³¸ê°’ = `(inferred)`
- `close`, `shutdown` ë©”ì„œë“œë¥¼ ìë™ìœ¼ë¡œ í˜¸ì¶œ

### ì• ë…¸í…Œì´ì…˜ @PostConstruct, @PreDestroy

```java
@PostConstruct
public void init() {
		System.out.println("NetworkClient.init"); connect();
		call("ì´ˆê¸°í™” ì—°ê²° ë©”ì‹œì§€");
}

@PreDestroy
public void close() {
    System.out.println("NetworkClient.close");
    disConnect();
}
```

ìµœì‹  ìŠ¤í”„ë§ì—ì„œ ê°€ì¥ ê¶Œì¥í•˜ëŠ” ë°©ë²•

ìŠ¤í”„ë§ì´ ì•„ë‹Œ ë‹¤ë¥¸ ì»¨í…Œì´ë„ˆì—ì„œë„ ë™ì‘

ì»´í¬ë„ŒíŠ¸ ìŠ¤ìº”ê³¼ ì˜ ì–´ìš¸ë¦¼

ë‹¨ì : ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ì ìš©í•˜ì§€ ëª»í•œë‹¤