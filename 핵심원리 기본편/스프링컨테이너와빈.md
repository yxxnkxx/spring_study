# μ¤ν”„λ§ μ»¨ν…μ΄λ„μ™€ μ¤ν”„λ§ λΉ

## μ¤ν”„λ§ μ»¨ν…μ΄λ„

```java
ApplicationContext applicationContext = new AnnotationConfigApplicationContext(AppConfig.class);
```

`ApplicationContext`: μ¤ν”„λ§ μ»¨ν…μ΄λ„, μΈν„°νμ΄μ¤

`AnnotationConfigApplicationContext`: μ¤ν”„λ§ μ»¨ν…μ΄λ„μ κµ¬ν„μ²΄

### μ¤ν”„λ§ μ»¨ν…μ΄λ„ μƒμ„± κ³Όμ •

1. μ¤ν”„λ§ μ»¨ν…μ΄λ„ μƒμ„±
    
    a. κµ¬μ„± μ •λ³΄ μ§€μ •
    
    b. `AppConfig.class`
2. μ¤ν”„λ§ λΉ λ“±λ΅
    
    a. μ¤ν”„λ§ μ»¨ν…μ΄λ„κ°€ κµ¬μ„± μ •λ³΄λ¥Ό μ‚¬μ©ν•΄μ„ μ¤ν”„λ§ λΉμ„ λ“±λ΅
    
    b. `@Bean`μ΄ λ¶™μ€ κ°μ²΄λ¥Ό λ“±λ΅

3. μ¤ν”„λ§ λΉ μμ΅΄κ΄€κ³„ μ„¤μ • μ¤€λΉ„
4. μ¤ν”„λ§ λΉ μμ΅΄κ΄€κ³„ μ„¤μ • μ™„λ£
    
    a. μ„¤μ • μ •λ³΄λ¥Ό μ°Έκ³ ν•΄μ„ μμ΅΄κ΄€κ³„ μ£Όμ…(DI)

`ROLE_APPLICATION`: μ§μ ‘ λ“±λ΅ν• μ• ν”λ¦¬μΌ€μ΄μ… λΉ

`ROLE_INFRASTRUCTURE`: μ¤ν”„λ§μ΄ λ‚΄λ¶€μ—μ„ μ‚¬μ©ν•λ” λΉ

### μ¤ν”„λ§ λΉ μ΅°ν

**κΈ°λ³Έ**

`ac.getBean(λΉμ΄λ¦„, νƒ€μ…)`

`ac.getBean(νƒ€μ…)`

- μ΅°ν λ€μƒ μ¤ν”„λ§ λΉμ΄ μ—†μ„ κ²½μ° μμ™Έ λ°μƒ
    - `NoSuchBeanDefinitionException`

μΈν„°νμ΄μ¤, κµ¬μ²΄ νƒ€μ… λ¨λ‘ μ΅°ν κ°€λ¥

- κµ¬μ²΄ νƒ€μ…μΌλ΅ μ΅°νν•λ” κ²ƒμ€ κ¶μ¥X

**λ™μΌν• νƒ€μ…μ΄ λ‘ μ΄μƒ**

κ°™μ€ νƒ€μ…μ μ¤ν”„λ§ λΉμ΄ λ‘ μ΄μƒμ΄λ©΄ μ¤λ¥ λ°μƒ

- `NoUniqueBeanDefinitionException`

`ac.getBeansOfType(νƒ€μ…)`μΌλ΅ λ¨λ“  λΉ μ΅°ν κ°€λ¥

**μƒμ†κ΄€κ³„**

- **λ¶€λ¨ νƒ€μ…μΌλ΅ μ΅°νν•λ©΄, μμ‹ νƒ€μ…λ„ ν•¨κ» μ΅°ν**

### BeanFactoryμ™€ ApplicationContext

> π’΅ BeanFactory<Interface> 
> - ApplicationContext<Interface> 
> - AnnotationConfig/ApplicationContext

**BeanFactory**

μ¤ν”„λ§ μ»¨ν…μ΄λ„μ μµμƒμ„ μΈν„°νμ΄μ¤

μ¤ν”„λ§ λΉμ„ κ΄€λ¦¬ν•κ³  μ΅°ν

`getBean()` μ κ³µ

**ApplicationContext**

BeanFactory κΈ°λ¥μ„ λ¨λ‘ μƒμ†λ°›μ•„μ„ μ κ³µ

λ¶€κ°€ κΈ°λ¥

- λ©”μ‹μ§€μ†μ¤λ¥Ό ν™μ©ν• κµ­μ ν™” κΈ°λ¥ (MessageSource)
- ν™κ²½λ³€μ (EnvironmentCapable)
    - λ΅μ»¬, κ°λ°, μ΄μ κµ¬λ¶„
- μ• ν”λ¦¬μΌ€μ΄μ… μ΄λ²¤νΈ (ApplicationEventPublisher)
    - μ΄λ²¤νΈ λ°μƒ/κµ¬λ… λ¨λΈμ„ νΈλ¦¬ν•κ² μ§€μ›
- νΈλ¦¬ν• λ¦¬μ†μ¤ μ΅°ν (ResourceLoader)
    - νμΌ, ν΄λμ¤ν¨μ¤, μ™Έλ¶€ λ“±μ—μ„ λ¦¬μ†μ¤ μ΅°ν

### BeanDefintion λΉ μ„¤μ • λ©”νƒ€ μ •λ³΄

μ¤ν”„λ§ μ»¨ν…μ΄λ„λ” μ΄ λ©”νƒ€μ •λ³΄λ¥Ό κΈ°λ°μΌλ΅ μ¤ν”„λ§ λΉμ„ μƒμ„±ν•λ‹¤